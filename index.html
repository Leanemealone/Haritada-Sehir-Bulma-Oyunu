<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>S√ºper Gezgin: T√ºrkiye Turu üåç</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <style>
        :root { --ana-renk: #4caf50; --turuncu: #f57c00; }
        body { margin: 0; font-family: 'Comic Sans MS', cursive; overflow: hidden; background: #e0f7fa; }
        #rotate-warning { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #2c3e50; color: white; z-index: 1000; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        @media screen and (orientation: portrait) { #rotate-warning { display: flex; } #game-area, #login-screen { display: none; } }
        #login-screen { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; background: #ffeb3b; padding: 20px; }
        .login-card { background: white; padding: 20px; border-radius: 30px; box-shadow: 0 15px 30px rgba(0,0,0,0.1); text-align: center; width: 380px; max-height: 95vh; }
        #leaderboard { margin-top: 15px; background: #fff3e0; border-radius: 15px; padding: 10px; max-height: 200px; overflow-y: auto; }
        .lb-row { display: flex; justify-content: space-between; padding: 8px 12px; border-bottom: 1px solid #ffe0b2; font-size: 0.9rem; }
        #game-area { display: none; flex-direction: column; height: 100vh; }
        #header { height: 15%; background: var(--ana-renk); color: white; display: flex; justify-content: space-around; align-items: center; font-size: 1.2rem; }
        #target-city { background: white; color: #d32f2f; padding: 5px 20px; border-radius: 25px; font-weight: bold; }
        #map-container { flex: 1; position: relative; display: flex; justify-content: center; align-items: center; overflow: hidden; }
        svg { width: 95%; height: 95%; }
        path { fill: #ffffff; stroke: #455a64; stroke-width: 1; transition: 0.2s; cursor: pointer; }
        path:hover { fill: #fff176 !important; }
        .dogru { fill: #4caf50 !important; }
        .yanlis { fill: #f44336 !important; }
        #feedback { position: absolute; top: 5%; left: 50%; transform: translateX(-50%); font-size: 2rem; font-weight: bold; z-index: 100; pointer-events: none; }
    </style>
</head>
<body>
    <div id="rotate-warning"><h1>üì± Telefonu Yan √áevir!</h1></div>
    <div id="login-screen">
        <div class="login-card">
            <h2 style="color: var(--turuncu);">S√ºper Gezgin üåç</h2>
            <input type="text" id="student-pass" placeholder="≈ûifreniz" style="padding:10px; border-radius:10px; border:2px solid orange;">
            <button onclick="loginCheck()" style="padding:10px 20px; background:green; color:white; border:none; border-radius:10px; margin-top:10px; cursor:pointer;">BA≈ûLA!</button>
            <div id="leaderboard"><h3>üèÜ En Y√ºksek 20 Skor</h3><div id="lb-list"></div></div>
        </div>
    </div>
    <div id="game-area">
        <div id="header">
            <div>üìç Bul: <span id="target-city">---</span></div>
            <div>‚è±Ô∏è <span id="timer">60</span></div>
            <div>üèÜ <span id="score">0</span></div>
        </div>
        <div id="map-container">
            <div id="feedback"></div>
            <svg id="turkiye-svg" viewBox="0 0 1010 440" xmlns="http://www.w3.org/2000/svg">
                <path id="Adana" d="M 622.7,357.7 L 622.6,358.3 L 623.1,358.5 L 623.1,359.1 L 624.4,359.7 L 624.7,359.5 L 625.6,360.2 L 627.3,361.0 L 628.2,360.5 L 628.7,361.6 L 629.5,361.7 L 630.7,363.1 L 631.9,363.1 L 631.8,363.9 L 632.7,364.7 L 633.3,365.6 L 634.6,365.6 L 635.3,366.1 L 636.5,366.1 L 636.7,366.8 L 637.3,367.4 L 637.4,368.6 L 638.1,368.1 L 638.4,368.5 L 640.2,368.2 L 641.0,369.3 L 641.5,369.3 L 641.9,368.4 L 642.5,368.4 L 643.0,369.5 L 644.2,369.6 L 644.3,370.8 L 645.1,371.4 L 645.7,372.4 L 647.0,372.4 L 647.7,372.9 L 648.9,372.9 L 649.0,373.6 L 649.7,374.2 L 649.8,375.4 L 650.5,374.8 L 651.1,375.7 L 651.4,375.3 L 653.2,375.0 L 654.1,376.1 L 654.6,376.1 L 655.0,375.2 L 655.5,375.2 L 656.0,376.3 L 657.2,376.4 L 657.3,377.6 L 658.1,378.2 L 658.7,379.2 L 660.0,379.2 L 660.7,379.7 L 661.9,379.7 L 662.0,380.4 L 662.6,381.0 L 662.8,382.2 L 663.5,381.6 L 664.1,382.5 L 664.4,382.1 L 666.2,381.8 L 667.1,382.9 L 667.5,382.9 L 668.0,382.0 L 668.5,382.0 L 669.0,383.1 L 670.3,383.1 L 670.3,384.3 L 671.1,384.9 L 671.7,385.9 L 673.0,385.9 L 673.7,386.4 L 674.9,386.4 L 675.0,387.1 L 675.6,387.7 L 675.8,388.9 L 676.5,388.3 L 677.1,389.2 L 677.4,388.8 L 679.2,388.5 L 680.1,389.6 L 680.6,389.6 L 681.0,388.7 L 681.5,388.7 L 682.0,389.8 L 683.2,389.9 L 683.3,391.1 L 684.1,391.7 L 684.7,392.7 L 686.0,392.7 L 686.7,393.2 L 687.9,393.2 L 688.0,393.9 L 688.6,394.5 L 688.8,395.7 L 689.5,395.1 L 690.1,396.0 L 690.4,395.6 L 692.2,395.3 L 693.1,396.4 L 693.6,396.4 L 694.0,395.5 L 694.5,395.5 L 695.0,396.6 L 696.3,396.7 L 696.3,397.9 L 697.1,398.5 L 697.7,399.5 L 699.0,399.5 L 699.7,400.0 L 700.9,400.0 L 701.0,400.7 L 701.6,401.3 L 701.8,402.5 L 702.5,401.9 L 703.1,402.8 L 703.4,402.4 L 705.2,402.1 L 706.1,403.2 L 706.6,403.2 L 707.0,402.3 L 707.5,402.3 L 708.0,403.4 L 709.2,403.5 L 709.3,404.7 L 710.1,405.3 L 710.7,406.3 L 712.0,406.3 L 712.7,406.8 L 713.9,406.8 L 714.0,407.5 L 714.6,408.1 L 714.8,409.3 L 715.5,408.7 L 716.1,409.6 L 716.4,409.2 L 718.2,408.9 L 719.1,410.0 L 719.6,410.0 L 720.0,409.1 L 720.5,409.1 L 721.0,410.2 L 722.2,410.3 L 722.3,411.5 L 723.1,412.1 L 723.7,413.1 L 725.0,413.1 L 725.7,413.6 L 726.9,413.6 L 727.0,414.3 L 727.6,414.9 L 727.8,416.1 L 728.5,415.5 L 729.1,416.4 L 729.4,416.0 L 731.2,415.7 L 732.1,416.8 L 732.6,416.8 L 733.0,415.9 L 733.5,415.9 L 734.0,417.0 L 735.2,417.1 L 735.3,418.3 L 736.1,418.9 L 736.7,419.9 L 738.0,419.9 L 738.7,420.4 L 739.9,420.4 L 740.0,421.1 L 740.6,421.7 L 740.8,422.9 L 741.5,422.3 L 742.1,423.2 L 742.4,422.8 L 744.2,422.5 L 745.1,423.6 L 745.6,423.6 L 746.0,422.7 L 746.5,422.7 L 747.0,423.8 L 748.2,423.9 L 748.3,425.1 L 749.1,425.7 L 749.7,426.7 L 751.0,426.7 L 751.7,427.2 L 752.9,427.2 L 753.0,427.9 L 753.6,428.5 L 753.8,429.7 L 754.5,429.1 L 755.1,430.0 L 755.4,429.6 L 757.2,429.3 L 758.1,430.4 L 758.6,430.4 L 759.0,429.5 L 759.5,429.5 L 760.0,430.6 L 761.2,430.7 L 761.3,431.9 L 762.1,432.5 L 762.7,433.5 L 764.0,433.5 L 764.7,434.0 L 765.9,434.0 L 766.0,434.7 L 766.6,435.3 L 766.8,436.5 L 767.5,435.9 L 768.1,436.8 L 768.4,436.4 L 770.2,436.1 L 771.1,437.2 L 771.6,437.2 L 772.0,436.3 L 772.5,436.3 L 773.0,437.4 L 774.2,437.5 L 774.3,438.7 L 775.1,439.3 L 775.7,440.3 L 777.0,440.3 L 777.7,440.8 L 778.9,440.8 L 779.0,441.5 L 779.6,442.1 L 779.8,443.3 L 780.5,442.7 L 781.1,443.6 L 781.4,443.2 L 783.2,442.9 L 784.1,444.0 L 784.6,444.0 L 785.0,443.1 L 785.5,443.1 L 786.0,444.2 L 787.2,444.3 L 787.3,445.5 L 788.1,446.1 L 788.7,447.1 L 790.0,447.1 L 790.7,447.6 L 791.9,447.6 L 792.0,448.3 L 792.6,448.9 L 792.8,450.1 L 793.5,449.5 L 794.1,450.4 L 794.4,450.0 L 796.2,449.7 L 797.1,450.8 L 797.6,450.8 L 798.0,449.9 L 798.5,449.9 L 799.0,451.0 L 800.2,451.1 L 800.3,452.3 L 801.1,452.9 L 801.7,453.9 L 803.0,453.9 L 803.7,454.4 L 804.9,454.4 L 805.0,455.1 L 805.6,455.7 L 805.8,456.9 L 806.5,456.3 L 807.1,457.2 L 807.4,456.8 L 809.2,456.5 L 810.1,457.6 L 810.6,457.6 L 811.0,456.7 L 811.5,456.7 L 812.0,457.8 L 813.2,457.9 L 813.3,459.1 L 814.1,459.7 L 814.7,460.7 L 816.0,460.7 L 816.7,461.2 L 817.9,461.2 L 818.0,461.9 L 818.6,462.5 L 818.8,463.7 L 819.5,463.1 L 820.1,464.0 L 820.4,463.6 L 822.2,463.3 L 823.1,464.4 L 823.6,464.4 L 824.0,463.5 L 824.5,463.5 L 825.0,464.6 L 826.2,464.7 L 826.3,465.9 L 827.1,466.5 L 827.7,467.5 L 829.0,467.5 L 829.7,468.0 L 830.9,468.0 L 831.0,468.7 L 831.6,469.3 L 831.8,470.5 L 832.5,469.9 L 833.1,470.8 L 833.4,470.4 L 835.2,470.1 L 836.1,471.2 L 836.6,471.2 L 837.0,470.3 L 837.5,470.3 L 838.0,471.4 L 839.2,471.5 L 839.3,472.7 L 840.1,473.3 L 840.7,474.3 L 842.0,474.3 L 842.7,474.8 L 843.9,474.8 L 844.0,475.5 L 844.6,476.1 L 844.8,477.3 L 845.5,476.7 L 846.1,477.6 L 846.4,477.2 L 848.2,476.9 L 849.1,478.0 L 849.6,478.0 L 850.0,477.1 L 850.5,477.1 L 851.0,478.2 L 852.2,478.3 L 852.3,479.5 L 853.1,480.1 L 853.7,481.1 L 855.0,481.1 L 855.7,481.6 L 856.9,481.6 L 857.0,482.3 L 857.6,482.9 L 857.8,484.1 L 858.5,483.5 L 859.1,484.4 L 859.4,484.0 L 861.2,483.7 L 862.1,484.8 L 862.6,484.8 L 863.0,483.9 L 863.5,483.9 L 864.0,485.0 L 865.2,485.1 L 865.3,486.3 L 866.1,486.9 L 866.7,487.9 L 868.0,487.9 L 868.7,488.4 L 869.9,488.4 L 870.0,489.1 L 870.6,489.7 L 870.8,490.9 L 871.5,490.3 L 872.1,491.2 L 872.4,490.8 L 874.2,490.5 L 875.1,491.6 L 875.6,491.6 L 876.0,490.7 L 876.5,490.7 L 877.0,491.8 L 878.2,491.9 L 878.3,493.1 L 879.1,493.7 L 879.7,494.7 L 881.0,494.7 L 881.7,495.2 L 882.9,495.2 L 883.0,495.9 L 883.6,496.5 L 883.8,497.7 L 884.5,497.1 L 885.1,498.0 L 885.4,497.6 L 887.2,497.3 L 888.1,498.4 L 888.6,498.4 L 889.0,497.5 L 889.5,497.5 L 890.0,498.6 L 891.2,498.7 L 891.3,499.9 L 892.1,500.5 L 892.7,501.5 L 894.0,501.5 L 894.7,502.0 L 895.9,502.0 L 896.0,502.7 L 896.6,503.3 L 896.8,504.5 L 897.5,503.9 L 898.1,504.8 L 898.4,504.4 L 900.2,504.1 L 901.1,505.2 L 901.6,505.2 L 902.0,504.3 L 902.5,504.3 L 903.0,505.4 L 904.2,505.5 L 904.3,506.7 L 905.1,507.3 L 905.7,508.3 L 907.0,508.3 L 907.7,508.8 L 908.9,508.8 L 909.0,509.5 L 909.6,510.1 L 909.8,511.3 L 910.5,510.7 L 911.1,511.6 L 911.4,511.2 L 913.2,510.9 L 914.1,512.0 L 914.6,512.0 L 915.0,511.1 L 915.5,511.1 L 916.0,512.2 L 917.2,512.3 L 917.3,513.5 L 918.1,514.1 L 918.7,515.1 L 920.0,515.1 L 920.7,515.6 L 921.9,515.6 L 922.0,516.3 L 922.6,516.9 L 922.8,518.1 L 923.5,517.5 L 924.1,518.4 L 924.4,518.0 L 926.2,517.7 L 927.1,518.8 L 927.6,518.8 L 928.0,517.9 L 928.5,517.9 L 929.0,519.0 L 930.2,519.1 L 930.3,520.3 L 931.1,520.9 L 931.7,521.9 L 933.0,521.9 L 933.7,522.4 L 934.9,522.4 L 935.0,523.1 L 935.6,523.7 L 935.8,524.9 L 936.5,524.3 L 937.1,525.2 L 937.4,524.8 L 939.2,524.5 L 940.1,525.6 L 940.6,525.6 L 941.0,524.7 L 941.5,524.7 L 942.0,525.8 L 943.2,525.9 L 943.3,527.1 L 944.1,527.7 L 944.7,528.7 L 946.0,528.7 L 946.7,529.2 L 947.9,529.2 L 948.0,529.9 L 948.6,530.5 L 948.8,531.7 L 949.5,531.1 L 950.1,532.0 L 950.4,531.6 L 952.2,531.3 L 953.1,532.4 L 953.6,532.4 L 954.0,531.5 L 954.5,531.5 L 955.0,532.6 L 956.2,532.7 L 956.3,533.9 L 957.1,534.5 L 957.7,535.5 L 959.0,535.5 L 959.7,536.0 L 960.9,536.0 L 961.0,536.7 L 961.6,537.3 L 961.8,538.5 L 962.5,537.9 L 963.1,538.8 L 963.4,538.4 L 965.2,538.1 L 966.1,539.2 L 966.6,539.2 L 967.0,538.3 L 967.5,538.3 L 968.0,539.4 L 969.2,539.5 L 969.3,540.7 L 970.1,541.3 L 970.7,542.3 L 972.0,542.3 L 972.7,542.8 L 973.9,542.8 L 974.0,543.5 L 974.6,544.1 L 974.8,545.3 L 975.5,544.7 L 976.1,545.6 L 976.4,545.2 L 978.2,544.9 L 979.1,546.0 L 979.6,546.0 L 980.0,545.1 L 980.5,545.1 L 981.0,546.2 L 982.2,546.3 L 982.3,547.5 L 983.1,548.1 L 983.7,549.1 L 985.0,549.1 L 985.7,549.6 L 986.9,549.6 L 987.0,550.3 L 987.6,550.9 L 987.8,552.1 L 988.5,551.5 L 989.1,552.4 L 989.4,552.0 L 991.2,551.7 L 992.1,552.8 L 992.6,552.8 L 993.0,551.9 L 993.5,551.9 L 994.0,553.0 L 995.2,553.1 L 995.3,554.3 L 996.1,554.9 L 996.7,555.9 L 998.0,555.9 L 998.7,556.4 L 999.9,556.4 Z" />
                </svg>
        </div>
    </div>
    <audio id="snd-success" src="success.mp3"></audio>
    <audio id="snd-error" src="error.mp3"></audio>
    <script>
        const firebaseConfig = { apiKey: "AIzaSyDYEMEciQh-5wEYXgRChyX9PA9FCcehVew", authDomain: "haritada-sehir-bulma-oyunu.firebaseapp.com", projectId: "haritada-sehir-bulma-oyunu", storageBucket: "haritada-sehir-bulma-oyunu.firebasestorage.app", messagingSenderId: "212809269056", appId: "1:212809269056:web:d8c7e6e4e6c22e97c344a5" };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        let aktifOgrenci = null; let puan = 0; let sure = 60; let sorulanSehir = ""; let sehirListesi = [];

        async function skorlariYukle() {
            const lbList = document.getElementById('lb-list');
            const snapshot = await db.collection("ogrenciler").orderBy("puan", "desc").limit(20).get();
            lbList.innerHTML = ""; sira = 1;
            snapshot.forEach(doc => { lbList.innerHTML += `<div class="lb-row"><span>${sira}. ${doc.data().ad}</span> <b>${doc.data().puan}</b></div>`; sira++; });
        }

        async function loginCheck() {
            const sifre = document.getElementById('student-pass').value;
            const doc = await db.collection("ogrenciler").doc(sifre).get();
            if (doc.exists) {
                aktifOgrenci = { id: sifre, ...doc.data() };
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('game-area').style.display = 'flex';
                oyunuBaslat();
            } else { alert("≈ûifre hatalƒ±!"); }
        }

        function oyunuBaslat() {
            document.querySelectorAll('path').forEach(p => { if(p.id) sehirListesi.push(p.id); p.addEventListener('click', () => sehirTiklandi(p)); });
            yeniSehirSor();
            const sayac = setInterval(() => { sure--; document.getElementById('timer').innerText = sure; if (sure <= 0) { clearInterval(sayac); oyunBitti(); } }, 1000);
        }

        function yeniSehirSor() { sorulanSehir = sehirListesi[Math.floor(Math.random() * sehirListesi.length)]; document.getElementById('target-city').innerText = sorulanSehir.toUpperCase(); }

        function sehirTiklandi(el) {
            const fb = document.getElementById('feedback');
            if (el.id === sorulanSehir) {
                puan += 10; document.getElementById('score').innerText = puan;
                fb.innerText = "Aferin doƒüru cevapladƒ±n! ‚úÖ"; fb.style.color = "#4caf50";
                document.getElementById('snd-success').play(); el.classList.add('dogru');
                setTimeout(() => { el.classList.remove('dogru'); fb.innerText = ""; yeniSehirSor(); }, 800);
            } else {
                fb.innerText = "√úzg√ºn√ºm tekrar dene! ‚ùå"; fb.style.color = "#f44336";
                document.getElementById('snd-error').play(); el.classList.add('yanlis');
                setTimeout(() => { el.classList.remove('yanlis'); fb.innerText = ""; }, 600);
            }
        }

        function oyunBitti() {
            db.collection("ogrenciler").doc(aktifOgrenci.id).update({ puan: Math.max(puan, aktifOgrenci.puan || 0) }).then(() => { alert("Skorun: " + puan); location.reload(); });
        }
        window.onload = skorlariYukle;
    </script>
</body>
</html>
